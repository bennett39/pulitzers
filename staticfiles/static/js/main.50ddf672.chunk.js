(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(30)},23:function(e,t,n){},24:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),i=n.n(o),c=(n(23),n(8)),l=n(9),s=n(13),u=n(10),d=n(14),h=(n(24),n(15)),m=n(1),p=n(2);function f(){var e=Object(m.a)(["\n  display: inline-block;\n  vertical-align: middle;\n"]);return f=function(){return e},e}function b(){var e=Object(m.a)(["\n  display: inline-block;\n  margin-bottom: 1em;\n  width: 1.5em;\n  height: 1.5em;\n  background: ","\n  border-radius: 3px;\n  transition: all 150ms;\n  "," {\n    visibility: ","\n  }\n"]);return b=function(){return e},e}function v(){var e=Object(m.a)(["\n  // Hide checkbox visually but remain accessible to screen readers.\n  // Source: https://polished.js.org/docs/#hidevisually\n  border: 0;\n  clip: rect(0 0 0 0);\n  clippath: inset(50%);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return v=function(){return e},e}function g(){var e=Object(m.a)(["\n  fill: none;\n  stroke: white;\n  stroke-width: 2px;\n"]);return g=function(){return e},e}var k=p.a.svg(g()),E=p.a.input.attrs({type:"checkbox"})(v()),w=p.a.div(b(),function(e){return e.checked?"mediumspringgreen":"lightsteelblue"},k,function(e){return e.checked?"visible":"hidden"}),y=p.a.div(f()),j=function(e){var t=e.className,n=e.checked,a=Object(h.a)(e,["className","checked"]);return r.a.createElement(y,{className:t},r.a.createElement(E,Object.assign({checked:n},a)),r.a.createElement(w,{checked:n},r.a.createElement(k,{viewBox:"0 0 24 24"},r.a.createElement("polyline",{points:"20 6 9 17 4 12"}))))};function O(e){return r.a.createElement("div",{className:"card"},r.a.createElement("h2",null,e.title),r.a.createElement("p",null,e.author),r.a.createElement("p",null,r.a.createElement("em",null,e.year_won)),r.a.createElement("label",null,r.a.createElement(j,{checked:e.completed,onChange:e.onClick})))}var x=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={error:null,isLoaded:!1,api_url:"/api/books/",books:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.state.api_url).then(function(e){return e.json()}).then(function(t){e.setState({isLoaded:!0,books:t})})}},{key:"toggle",value:function(e){for(var t=this.state.api_url+e.toString()+"/",n=this.state.books.slice(),a={completed:null},r=0;r<n.length;r++)n[r].id===e&&(n[r].completed=!n[r].completed,a.completed=n[r].completed);console.log('Sending {"completed": '+a.completed+'"} to '+t),fetch(t,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){return console.log("Success: ",JSON.stringify(e))}).catch(function(e){return console.error("Error: ",e)}),this.setState({books:n})}},{key:"render",value:function(){var e=this,t=this.state,n=t.error,a=t.isLoaded,o=t.books;return n?r.a.createElement("div",null,"Error: ",n.message):a?r.a.createElement("div",{className:"centered"},r.a.createElement("section",{className:"cards"},o.map(function(t){return r.a.createElement(O,{key:t.id,year_won:t.year_won,title:t.title,author:t.author,completed:t.completed,onClick:function(){return e.toggle(t.id)}})}))):r.a.createElement("div",null,"Loading...")}}]),t}(r.a.Component);var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Pulitzer Reading List"),r.a.createElement("p",null,"A list of all the Pulitzer Prize winning novels, along with a checkbox to track if you've read them."),r.a.createElement("p",null,"Behind the scenes, all data stored in PostgreSQL database. Uses Django REST Framework to serialize data and process requests from React frontend."),r.a.createElement("p",null,"API available at ",r.a.createElement("a",{href:"/api/"},"/api/"),"."),r.a.createElement("p",null,"Open the console to see requests when you click the checkboxes."),r.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.50ddf672.chunk.js.map